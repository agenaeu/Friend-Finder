<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>

    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- Font Awesome Glyphicons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    <style>
        img {
    max-width: 50%;
    height: auto;
}
</style>
</head>

<body>

    <div class="container">

        <h2>Survey Questions</h2>
        <hr>

        <h3><strong>About You</strong></h3>
        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control" required="">


        <h4>Link to Photo Image (Required)</h4>
        <input type="text" id="photo" class="form-control" required="">

        <h4>Gender</h4>
        <form id="gender">
            <label class="radio-inline">
                <input type="radio" name="gender" id="F1" value="F"> 1 (Female)
            </label>
            <label class="radio-inline">
                <input type="radio" name="gender" id="M1" value="M"> 2 (Male)
            </label>
        </form>

        <h4>Sexual Preference</h4>
        <form id="sexPreference">
            <label class="radio-inline">
                <input type="radio" name="sexPref" id="F2" value="F"> 1 (Female)
            </label>
            <label class="radio-inline">
                <input type="radio" name="sexPref" id="M2" value="M"> 2 (Male)
            </label>
        </form>


        <hr>

        <h3><strong>Question 1</strong></h3>
        <h4>You think facts are more important than opinions.</h4>
        <form class="userInput" id="q1">
            <label class="radio-inline">
                <input type="radio" name="q1" id="inlineRadio1" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q1" id="inlineRadio2" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q1" id="inlineRadio3" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q1" id="inlineRadio4" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q1" id="inlineRadio5" value="5"> 5 (Strongly Agree)
            </label>
        </form>

        <h3><strong>Question 2</strong></h3>
        <h4>You like to party every weekend.</h4>
        <form class="userInput" id="q2">
            <label class="radio-inline">
                <input type="radio" name="q2" id="inlineRadio6" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q2" id="inlineRadio7" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q2" id="inlineRadio8" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q2" id="inlineRadio9" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q2" id="inlineRadio10" value="5"> 5 (Strongly Agree)
            </label>
        </form>


        <h3><strong>Question 3</strong></h3>
        <h4>You like dogs.</h4>
        <form class="userInput" id="q3">
            <label class="radio-inline">
                <input type="radio" name="q3" id="inlineRadio11" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q3" id="inlineRadio12" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q3" id="inlineRadio13" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q3" id="inlineRadio14" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q3" id="inlineRadio15" value="5"> 5 (Strongly Agree)
            </label>
        </form>


        <h3><strong>Question 4</strong></h3>
        <h4>You like cats.</h4>
        <form class="userInput" id="q4">
            <label class="radio-inline">
                <input type="radio" name="q4" id="inlineRadio16" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q4" id="inlineRadio17" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q4" id="inlineRadio18" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q4" id="inlineRadio19" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q4" id="inlineRadio20" value="5"> 5 (Strongly Agree)
            </label>
        </form>

        <h3><strong>Question 5</strong></h3>
        <h4>You want kids.</h4>
        <form class="userInput" id="q5">
            <label class="radio-inline">
                <input type="radio" name="q5" id="inlineRadio21" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q5" id="inlineRadio22" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q5" id="inlineRadio23" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q5" id="inlineRadio24" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q5" id="inlineRadio25" value="5"> 5 (Strongly Agree)
            </label>
        </form>


        <h3><strong>Question 6</strong></h3>
        <h4>You are good with finances.</h4>
        <form class="userInput" id="q6">
            <label class="radio-inline">
                <input type="radio" name="q6" id="inlineRadio26" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q6" id="inlineRadio27" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q6" id="inlineRadio28" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q6" id="inlineRadio29" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q6" id="inlineRadio30" value="5"> 5 (Strongly Agree)
            </label>
        </form>


        <h3><strong>Question 7</strong></h3>
        <h4>You like to travel.</h4>
        <form class="userInput" id="q7">
            <label class="radio-inline">
                <input type="radio" name="q7" id="inlineRadio31" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q7" id="inlineRadio32" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q7" id="inlineRadio33" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q7" id="inlineRadio34" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q7" id="inlineRadio35" value="5"> 5 (Strongly Agree)
            </label>
        </form>

        <h3><strong>Question 8</strong></h3>
        <h4>You are an organized person.</h4>
        <form class="userInput" id="q8">
            <label class="radio-inline">
                <input type="radio" name="q8" id="inlineRadio36" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q8" id="inlineRadio37" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q8" id="inlineRadio38" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q8" id="inlineRadio39" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q8" id="inlineRadio40" value="5"> 5 (Strongly Agree)
            </label>
        </form>

        <h3><strong>Question 9</strong></h3>
        <h4>You prefer intellect over appearance.</h4>
        <form class="userInput" id="q9">
            <label class="radio-inline">
                <input type="radio" name="q9" id="inlineRadio41" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q9" id="inlineRadio42" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q9" id="inlineRadio43" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q9" id="inlineRadio44" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q9" id="inlineRadio45" value="5"> 5 (Strongly Agree)
            </label>
        </form>

        <h3><strong>Question 10</strong></h3>
        <h4>Honesty and communication are the most important aspects of a relationship.</h4>
        <form class="userInput" id="q10">
            <label class="radio-inline">
                <input type="radio" name="q10" id="inlineRadio46" value="1"> 1 (Strongly Disagree)
            </label>
            <label class="radio-inline">
                <input type="radio" name="q10" id="inlineRadio47" value="2"> 2
            </label>
            <label class="radio-inline">
                <input type="radio" name="q10" id="inlineRadio48" value="3"> 3
            </label>
            <label class="radio-inline">
                <input type="radio" name="q10" id="inlineRadio49" value="4"> 4
            </label>
            <label class="radio-inline">
                <input type="radio" name="q10" id="inlineRadio50" value="5"> 5 (Strongly Agree)
            </label>
        </form>

        <br>
        <br>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="glyphicon glyphicon-heart-empty"
                aria-hidden="true"></i>
            Submit</button>

        <hr>
        <footer class="footer">
            <div class="container">
                <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/agenaeu/Friend-Finder.git">GitHub
                        Repo</a>
            </div>
        </footer>

    </div>

    <!-- Modal -->
    <div id="myModal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Your closest match(es) are:</h4>
                </div>
                <div class="modal-body">
                    <div id="friendNameDiv">

                    </div>
                    <img id="friendImg">

                </div>

                <div class="modal-footer">
                    <button id="close" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript">

        // Capture the form inputs
        $("#submit").on("click", function (event) {
            event.preventDefault();



            // Form validation
            function validateForm() {
                var isValid = true;
                $(".form-control").each(function () {
                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });

                $(".userInput").each(function () {

                    if (($(this).val() === 0) || ($(this).val() > 5)) {
                        isValid = false;
                    }
                });
                return isValid;
            }

            // If all required fields are filled
            if (validateForm()) {
                // Create an object for the user"s data
                var gender = $("input[name='gender']:checked").val();
                var sexPref = $("input[name='sexPref']:checked").val();
                var scores1 = parseInt($("input[name='q1']:checked").val());
                var scores2 = parseInt($("input[name='q2']:checked").val());
                var scores3 = parseInt($("input[name='q3']:checked").val());
                var scores4 = parseInt($("input[name='q4']:checked").val());
                var scores5 = parseInt($("input[name='q5']:checked").val());
                var scores6 = parseInt($("input[name='q6']:checked").val());
                var scores7 = parseInt($("input[name='q7']:checked").val());
                var scores8 = parseInt($("input[name='q8']:checked").val());
                var scores9 = parseInt($("input[name='q9']:checked").val());
                var scores10 = parseInt($("input[name='q10']:checked").val());

                // console.log(gender);
                var userData = {
                    name: $("#name").val(),
                    gender: gender,
                    sexualPreference: sexPref,
                    photo: $("#photo").val(),
                    scores: [
                        scores1,
                        scores2,
                        scores3,
                        scores4,
                        scores5,
                        scores6,
                        scores7,
                        scores8,
                        scores9,
                        scores10
                    ]
                };
                // console.log(userData);
                // AJAX post the data to the friends API.
                $.post("/api/friends", userData, function (data) {
                    if (data) {
                        // alert("you're officially registered!")
                        //  console.log(userData);

                    }
                    $("#friendNameDiv").html("<h2>" + data.name + "</h2>");
                    $("#friendImg").attr("src", data.photo);
                    $("#myModal").modal("toggle");
                    // Grab the result from the AJAX post so that the best match's name and photo are displayed.
                    //$("#match-name").text(data.name);
                    //$("#match-img").attr("src", data.photo);

                    // Show the modal with the best match
                    //$("#results-modal").modal("toggle");

                });
            } else {
                alert("Please fill out all fields before submitting!");
            }

        });
      

    </script>




</body>

</html>